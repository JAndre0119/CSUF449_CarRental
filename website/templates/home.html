{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <section class="hero">
        <h2>Find Your Perfect Ride</h2>
        <p>Affordable and reliable rentals at your fingertips.</p>
        <a href="{{ url_for('views.book', ) }}" class="btn">Book Now</a>
    </section>

    <section class="features">
        <div class="feature">
            <h3>Wide Selection</h3>
            <p>Choose from sedans, SUVs, trucks, and luxury cars.</p>
        </div>
        <div class="feature">
            <h3>Affordable Rates</h3>
            <p>Competitive pricing with no hidden fees.</p>
        </div>
        <div class="feature">
            <h3>24/7 Support</h3>
            <p>Weâ€™re here whenever you need us.</p>
        </div>
    </section>
    <div class="container mt-5">
        <h1 class="text-center mb-4 fw-bold">Available Cars</h1>

        {% if cars %}
        <div class="row justify-content-center">
            {% for car in cars %}
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm h-100 border-0">
                    <img src="{{ url_for('static', filename='images/' + car.image_filename) }}"
                         class="card-img-top"
                         alt="{{ car.name }}"
                         style="height: 220px; object-fit: cover;"
                         onerror="this.src='{{ url_for('static', filename='images/placeholder.jpg') }}';">

                    <div class="card-body text-center">
                        <h5 class="card-title fw-semibold">{{ car.name }}</h5>
                        <p class="card-text text-muted mb-1">{{ car.make }} {{ car.model }} ({{ car.year }})</p>
                        <p class="card-text mb-2">
                            <strong>${{ "%.2f"|format(car.price_per_day) }}</strong> / day
                        </p>

                        {% if car.total_quantity > 0 %}
                        <a href="{{ url_for('views.book', car_type=car.name) }}" class="btn btn-primary w-75">
                            Book Now
                        </a>
                        {% else %}
                        <button class="btn btn-secondary w-75" disabled>Sold Out</button>
                        {% endif %}
                    </div>


                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="alert alert-warning text-center">
            No cars available at the moment. Please check back later.
        </div>
        {% endif %}
    </div>
    {% endblock %}
